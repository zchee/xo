---
# Generated by xo.
schemas:
- type: postgres
  name: public
  enums:
  - table_name: books
    name: book_type
    values:
    - name: FICTION
      const_value: 1
    - name: NONFICTION
      const_value: 2
  procs:
  - type: function
    name: say_hello
    params:
    - name: name
      datatype:
        type: character varying
    return:
    - name: r0
      datatype:
        type: character varying
    definition: |-
      BEGIN
        RETURN 'hello ' || name;
      END;
  tables:
  - type: table
    name: authors
    columns:
    - name: author_id
      datatype:
        type: integer
      is_primary: true
      is_sequence: true
      is_enum: true
    - name: name
      datatype:
        type: character varying
        prec: 255
      default: "''::character varying"
      is_enum: true
    primary_keys:
    - name: author_id
      datatype:
        type: integer
      is_primary: true
      is_sequence: true
      is_enum: true
    indexes:
    - name: authors_name_idx
      fields:
      - name: name
        datatype:
          type: character varying
          prec: 255
        default: "''::character varying"
        is_enum: true
    - name: authors_pkey
      fields:
      - name: author_id
        datatype:
          type: integer
        is_primary: true
        is_sequence: true
        is_enum: true
      is_unique: true
      is_primary: true
  - type: table
    name: books
    columns:
    - name: book_id
      datatype:
        type: integer
      is_primary: true
      is_sequence: true
      is_enum: true
    - name: author_id
      datatype:
        type: integer
      is_enum: true
    - name: isbn
      datatype:
        type: character varying
        prec: 255
      default: "''::character varying"
      is_enum: true
    - name: book_type
      datatype:
        type: book_type
      default: "'FICTION'::book_type"
      is_enum: true
    - name: title
      datatype:
        type: character varying
        prec: 255
      default: "''::character varying"
      is_enum: true
    - name: year
      datatype:
        type: integer
      default: "2000"
      is_enum: true
    - name: available
      datatype:
        type: timestamp with time zone
      default: CURRENT_TIMESTAMP
      is_enum: true
    - name: description
      datatype:
        type: text
      default: "''::text"
      is_enum: true
    - name: tags
      datatype:
        type: character varying
        array: true
      default: "'{}'::character varying[]"
    primary_keys:
    - name: book_id
      datatype:
        type: integer
      is_primary: true
      is_sequence: true
      is_enum: true
    indexes:
    - name: books_isbn_key
      fields:
      - name: isbn
        datatype:
          type: character varying
          prec: 255
        default: "''::character varying"
        is_enum: true
      is_unique: true
    - name: books_pkey
      fields:
      - name: book_id
        datatype:
          type: integer
        is_primary: true
        is_sequence: true
        is_enum: true
      is_unique: true
      is_primary: true
    - name: books_title_idx
      fields:
      - name: title
        datatype:
          type: character varying
          prec: 255
        default: "''::character varying"
        is_enum: true
      - name: year
        datatype:
          type: integer
        default: "2000"
        is_enum: true
    foreign_keys:
    - name: books_author_id_fkey
      column:
      - name: author_id
        datatype:
          type: integer
        is_enum: true
      ref_table: authors
      ref_column:
      - name: author_id
        datatype:
          type: integer
        is_primary: true
        is_sequence: true
        is_enum: true
